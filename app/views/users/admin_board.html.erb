<% if current_user.admin?%>

<h1><%= "Admin Board" %></h1>

<div style="display: flex; justify-content: space-between;">
  <div style="flex: 1;">
    <h1><%= t("richieste") %></h1>
    <ul>
      <% @messages.each do |message| %>
        <li>
          <%= t("richiesta")+" da:" +" "+User.find(message.user_id).full_name%>
          <p><h4><%= message.content %> </h4><%= button_to t("risolta"), user_message_path(user_id: message.user_id, id: message.id), data: { confirm: "Are you sure?", turbo_confirm: "Are you sure?" }, method: :delete %></p>
        </li>
      <% end %>
    </ul>
  </div>

  <div style="flex: 1;">
    <h1><%= t("statistiche") %></h1>
    <ul>
      <li><%= t("numute") + @users.count.to_s %></li>
      <li><%= t("nurece") + @reviews.count.to_s %></li>
      <li><%= t("ricesa") + @researches.count.to_s %></li>
    </ul>
  </div>
</div>

<div style="display: flex; justify-content: space-between; align-items: flex-start;">
  <div style="flex: 1;">
    <h1><%= t("utenti") %></h1>
    <ul>
      <% @users.each do |user| %>
        <% if !user.admin? %>
          <% if !user.moderator? %>
            <li><%= t("utente") + " "+user.full_name %></li>
            <li><%= link_to t("profilo"), user_path(id: user.id) %></li>
            <li><%= link_to t("modmake"), set_mod_path(id: user.id) %></li>
<li><%= button_to t("elimina"), user_path(id: user.id), data: { confirm: "Are you sure?", turbo_confirm: "Are you sure?" }, method: :delete %></li>
          <% else %>
            <li><%= t("mod") + " "+user.full_name %></li>
            <li><%= button_to t("elimina"), user_path(id: user.id), data: { confirm: "Are you sure?", turbo_confirm: "Are you sure?" }, method: :delete %></li>
            <li><%= link_to t("modre"), remove_mod_path(id: user.id) %></li>
          <% end %>
        <% end %>
      <% end %>
    </ul>
  </div>

  <div style="flex: 1;">
    <h1><%= t("altro") %></h1>
    <ul>
      <li><%= link_to "Home", root_path %></li>
    </ul>
  </div>
</div>

<%else %>

<h1><%= "Moderator Board" %></h1>

<div style="display: flex; justify-content: space-between;">
  <div style="flex: 1;">
    <h1><%= t("richieste") %></h1>
    <ul>
      <% @messages.each do |message| %>
        <li>
          <%= t("richiesta")+" da" +" "+User.find(message.user_id).full_name%>
         <p><%= message.content %></p> <%= button_to t("risolta"), user_message_path(user_id: message.user_id, id: message.id), data: { confirm: "Are you sure?", turbo_confirm: "Are you sure?" }, method: :delete %>
        </li>
      <% end %>
    </ul>
  </div>


<div style="display: flex; justify-content: space-between; align-items: flex-start;">
  <div style="flex: 1;">
    <h1><%= t("utenti") %></h1>
    <ul>
      <% @users.each do |user| %>
        <% if !user.admin? %>
          <% if !user.moderator? %>
            <li><%= t("utente") + "  "+user.full_name %></li>
            <li><%= link_to t("profilo"), user_path(id: user.id) %></li>
<li><%= button_to t("elimina"), user_path(id: user.id), data: { confirm: "Are you sure?", turbo_confirm: "Are you sure?" }, method: :delete %></li>
          <% else %>
            <li><%= t("mod") + " "+user.full_name %></li>
          <% end %>
        <% end %>
      <% end %>
    </ul>
  </div>

  <div style="flex: 1;">
    <h1><%= t("altro") %></h1>
    <ul>
      <li><%= link_to "Home", root_path %></li>
    </ul>
  </div>
</div>

<%end%>
